# rgb_pll - Phase Lock Loop

## Calculate the constants for the built-in Lattice iCEstick PLL

* $ apio raw "icepll -i 12 -o 96"
* 
* F_PLLIN:    12.000 MHz (given)
* F_PLLOUT:   96.000 MHz (requested)
* F_PLLOUT:   96.000 MHz (achieved)
* 
* FEEDBACK: SIMPLE
* F_PFD:   12.000 MHz
* F_VCO:  768.000 MHz
* 
* DIVR:  0 (4'b0000)
* DIVF: 63 (7'b0111111)
* DIVQ:  3 (3'b011)
* 
* FILTER_RANGE: 1 (3'b001)

# PLLOUTCORE vs PLLOUTGLOBAL

* PLLOUTCORE - drives regular FPGA routing
* PLLOUTGLOBAL - drives a global clock network on the FPGA

Ultimately I used PLLOUTGLOBAL

Mods based on https://github.com/YosysHQ/yosys/issues/107
* which leads to https://github.com/carlosgs/iceDAQ/blob/master/pll_example/pll_example.v

The output PLL clock is PLLOUTCORE originally in Digi-Key tutorial on FPGAs #9
* if generated with: $ apio raw "icepll -i 12 -o 96 -f pll.v -m" it will be PLLOUTCORE
* In the carlosgs example above, it was originally also PLLOUTCORE, then changed to PLLOUTGLOBAL

Here from the iCE40 sysCLOCK PLL Design and Usage Guide:
* Global Buffers are automatically inferred when GBIN ports are used as a clock input

Here from the iCE40 LP/HX Family Data Sheet:
* PLLOUTGLOBAL - Output from the Phase-Locked Loop (PLL). Drives a global clock network on the FPGA. The port has optimal connections to global clock buffers GBUF4 and GBUF5
* PLLOUTCORE   - Output clock generated by the PLL, drives regular FPGA routing. The frequency generated on this output is the same as the frequency of the clock signal generated on the PLLOUTLGOBAL port.
